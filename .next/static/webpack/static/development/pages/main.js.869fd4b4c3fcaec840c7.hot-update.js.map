{"version":3,"file":"static/webpack/static\\development\\pages\\main.js.869fd4b4c3fcaec840c7.hot-update.js","sources":["webpack:///./src/pages/main/index.tsx"],"sourcesContent":["import styles from './Main.module.scss';\r\nimport { useEffect, useState } from \"react\";\r\nimport Header from \"../../components/ui/Header/Header\";\r\nimport LessonCard from '../../components/ui/LessonCard/LessonCard';\r\nimport Slider from '../../components/ui/Slider/Slider';\r\nimport Comment from '../../components/ui/Comment/Comment';\r\nimport { LessonsAPI } from '../../api/lessons';\r\nimport checkLoggedIn from '../../common/checkLoggedIn';\r\nimport { AxiosResponse, AxiosError } from 'axios';\r\nimport { MaterialsResponse } from '../../api/models/response/materials.response';\r\nimport { setMaterials } from '../../store/actions/materials-actions';\r\nimport { LessonsResponse } from '../../api/models/response/lessons.response';\r\nimport { setLessons } from '../../store/actions/lessons-actions';\r\nimport Link from 'next/link';\r\nimport Head from 'next/head';\r\nimport {pay} from './cloudpayments';\r\nimport { OrderAPI } from '../../api/order';\r\n\r\nlet testLessons = [\r\n    {name: 'Введение', description: 'Мы поделимся лучшими настройками управления, камеры и других игровых параметров'},\r\n    {name: 'Введение', description: 'Мы поделимся лучшими настройками управления, камеры и других игровых параметров'},\r\n    {name: 'Введение', description: 'Мы поделимся лучшими настройками управления, камеры и других игровых параметров'},\r\n    {name: 'Введение', description: 'Мы поделимся лучшими настройками управления, камеры и других игровых параметров'},\r\n    {name: 'Введение', description: 'Мы поделимся лучшими настройками управления, камеры и других игровых параметров'},\r\n    {name: 'Введение', description: 'Мы поделимся лучшими настройками управления, камеры и других игровых параметров'}\r\n]\r\n\r\nconst Main = ({pageWidth, store}) => {\r\n    const materialsState = store.getState().MaterialsReducer;\r\n    const lessonsState = store.getState().LessonsReducer;\r\n\r\n    const [lessonsURL, setLessonURL] = useState('')\r\n\r\n    const [ballShift, changeBallShift] = useState(0);\r\n    const listener = (e:any) => {\r\n        if(pageYOffset < 600) {\r\n            changeBallShift(pageYOffset / 5)\r\n        }\r\n    }\r\n\r\n    const [error, setError] = useState('')\r\n\r\n    const createOrder = () => {\r\n        OrderAPI.createOrder(materialsState[0].id)\r\n            .then((response:AxiosResponse) => {\r\n                // console.log(response.data)\r\n            })\r\n            .catch((err:AxiosError) => console.log(err))\r\n    }\r\n\r\n    const buyCourse = () => {\r\n        checkLoggedIn() ?\r\n            pay(materialsState[0]?.price, createOrder) :\r\n            (() => {\r\n                setError('Войдите для совершения покупки')\r\n                setTimeout(() => setError(''), 3000)\r\n            })()\r\n    }\r\n\r\n    const getCourse = () => {\r\n        ( checkLoggedIn() ? \r\n            LessonsAPI.getMaterials() : \r\n            LessonsAPI.getNotAuthorizeMaterials()\r\n        ).then((response:AxiosResponse<MaterialsResponse[]>) => {\r\n            store.dispatch(setMaterials(response.data))\r\n            getLessons(response.data[0].id);\r\n            setLessonURL('/lesson/' + response.data[0].id)\r\n        }).catch((err:AxiosError) => {\r\n            console.log(err)\r\n        });\r\n    }\r\n\r\n    const getLessons = (materialID:number) => {\r\n        ( checkLoggedIn() ? \r\n            LessonsAPI.getLessons(materialID) : \r\n            LessonsAPI.getNotAuthorizeLessons(materialID)\r\n        ).then((response:AxiosResponse<LessonsResponse[]>) => {\r\n            store.dispatch(setLessons(response.data))\r\n        }).catch((err:AxiosError) => {\r\n            console.log(err)\r\n        });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        !materialsState ? getCourse() : null;\r\n        !lessonsURL && materialsState ? setLessonURL('/lesson/' + materialsState[0].id) : null\r\n        document.body.scrollTop < 1 ? document.addEventListener('scroll', listener) : document.removeEventListener('scroll', listener);\r\n        return () => {\r\n            document.body.scrollTop > 1 ? document.removeEventListener('scroll', listener) : null\r\n        }\r\n    })\r\n    return (\r\n        <>\r\n            <Head>\r\n                <title>Main Page</title>\r\n                <script src=\"https://widget.cloudpayments.ru/bundles/cloudpayments\"></script>\r\n            </Head>\r\n            <header className={styles.header}>\r\n                { pageWidth > 768 ? \r\n                    <div className={styles.headerBg}>\r\n                        <img src=\"static/images/female.svg\" alt=\"\"/>\r\n                        <img src=\"static/images/ball.svg\" alt=\"\" style={{\r\n                            right: `${120+ballShift}px`,\r\n                            transform: `rotate(${-ballShift*1.5}deg)`\r\n                        }} />\r\n                        <img src=\"static/images/male.svg\" alt=\"\"/>\r\n                    </div> : null\r\n                }\r\n                <div className={styles.heading}>\r\n                    <h3>Teaches FIFA 20</h3>\r\n                    <h1>cyberclass: FIFA 20</h1>\r\n                    <span className=\"topSeller\">Top seller</span>\r\n                    <img src=\"static/images/fifa20.svg\" alt=\"\"/>\r\n                </div>\r\n            </header>\r\n            <div className=\"what\">\r\n                <div className=\"what__content\">\r\n                    <h2 className=\"what__title\">ЧЕМУ ВЫ НАУЧИТЕСЬ?</h2>\r\n                    <h3 className=\"what__subtitle\">Имейте в виду, что это лишь первая часть из 5, и начнем мы с основ</h3>\r\n                    <div className=\"what__group\">\r\n                        <div className=\"what__block\">\r\n                            <h3 className=\"what__block-title\">УПРАВЛЕНИЕ</h3>\r\n                            <p className=\"what__block-text\">Настройте игру по параметрам профессиональных киберспортсменов</p>\r\n                        </div>\r\n                        <div className=\"what__block\">\r\n                            <h3 className=\"what__block-title\">игра вратарём</h3>\r\n                            <p className=\"what__block-text\">Ключевые фишки игры вратарем.\r\n                                Мы научим отбивать даже “мёртвые” удары!</p>\r\n                        </div>\r\n                        <div className=\"what__block\">\r\n                            <h3 className=\"what__block-title\">схемы</h3>\r\n                            <p className=\"what__block-text\">Самые эффективные формации FIFA 20 и перестроения в зависимости от счёта</p>\r\n                        </div>\r\n                        <div className=\"what__block\">\r\n                            <h3 className=\"what__block-title\">задачи игрокам</h3>\r\n                            <p className=\"what__block-text\">Каждая установка имеет свой эффект.\r\n                                И ты узнаешь, как сделать так, чтобы команда работала на 100%</p>\r\n                        </div>\r\n                        <div className=\"what__block\">\r\n                            <h3 className=\"what__block-title\">защита</h3>\r\n                            <p className=\"what__block-text\">Подбор лучших защитников и разбор самых эффективных тактик при обороне</p>\r\n                        </div>\r\n                        <div className=\"what__block\">\r\n                            <h3 className=\"what__block-title\">контроль мяча</h3>\r\n                            <p className=\"what__block-text\">Владение = полный контроль над игрой, даже при высоком прессинге соперника</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"what__buy\">\r\n                    <div className=\"what__price-wrap\">\r\n                        <span className=\"what__price-finish\">599₽</span>\r\n                        <span className=\"what__price-full\">999₽</span>\r\n                        <span className=\"what__price-sale\">Save 40%</span>\r\n                    </div>\r\n                    <div className=\"what__offer\">SPECIAL OFFER</div>\r\n                    <div className=\"what__btn-group\">\r\n                        <a className=\"what__btn common-btn\" onClick={buyCourse}>Buy course (${materialsState && materialsState[0]?.price}.00)</a>\r\n                        <Link href={lessonsURL}>\r\n                            <a className=\"what__btn transparent-btn\">Watch free episodes</a>\r\n                        </Link>\r\n                    </div>\r\n                    <span className=\"what__guard\">\r\n                        Satisfaction guaranteed\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div className=\"content-container\">\r\n                <div className=\"course\">\r\n                    <div className=\"course__wrap\">\r\n                        <h2 className=\"course__title\">ОБУЧЕНИЕ ОТ ЛУЧШИХ – это:</h2>\r\n                        <div className=\"course__group\">\r\n                            <div className=\"course__block\">\r\n                                <div className=\"course__block-icon\">\r\n                                    <img src=\"/static/images/course/1.svg\" alt=\"\"/>\r\n                                </div>\r\n                                <h4 className=\"course__block-title\">НАСТРАИВАТЬ ИГРУ КАК ПРО</h4>\r\n                                <p className=\"course__block-text\">Правильные настройки помогут лучше чувствовать и понимать механику игры</p>\r\n                            </div>\r\n                            <div className=\"course__block\">\r\n                                <div className=\"course__block-icon\">\r\n                                    <img src=\"/static/images/course/2.svg\" alt=\"\"/>\r\n                                </div>\r\n                                <h4 className=\"course__block-title\">ИГРАТЬ В ЗАЩИТЕ КАК ПРО</h4>\r\n                                <p className=\"course__block-text\">Эффективная игра в обороне – ключ для ваших будущих побед!</p>\r\n                            </div>\r\n                            <div className=\"course__block\">\r\n                                <div className=\"course__block-icon\">\r\n                                    <img src=\"/static/images/course/3.svg\" alt=\"\"/>\r\n                                </div>\r\n                                <h4 className=\"course__block-title\">ВОЗМОЖНОСТЬ СТАТЬ ПРО</h4>\r\n                                <p className=\"course__block-text\">Наш курс поможет вам добиться лучших результатов на любом уровне!</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"course__desc\">\r\n                            <h3 className=\"course__desc-title\">Описание курса</h3>\r\n                            <p className=\"course__desc-text\">\r\n                                Самый сильный киберспортсмен России Антон Кленов [KLENOFF] и лучший автор гайдов по FIFA \r\n                                Артём Красулин [MOZZ] поделятся с вами самой ценной информацией и фишками по ФИФА.\r\n                                Мы поможем правильно настроить игру, подобрать лучших игроков\r\n                                на каждую позицию и детально разобрать ваши действия в защите, при игре вратарём,\r\n                                а также расскажем ключевые моменты по контролю мяча.\r\n                                {/* {materialsState && materialsState[0]?.description} */}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.firstPart}>\r\n                    <h2>ЧТО ВАС ЖДЕТ В ПЕРВОЙ ЧАСТИ?</h2>\r\n                    <div className={styles.cardsContainer}>\r\n                        { lessonsState?.map((item, index) => <LessonCard lesson={item} key={index} />)}\r\n                    </div>\r\n                    <Link href={lessonsURL}>\r\n                        <a className=\"common-btn\">Show more</a>\r\n                    </Link>\r\n                </div>\r\n                <Slider itemsCount={9}>\r\n                    { [1,2,3,4,5,6,7,8,9].map(item => <Comment comment={item} key={item} />) }\r\n                </Slider>\r\n                <Slider itemsCount={testLessons.length}>\r\n                    { testLessons.map((item:LessonsResponse, index) => <LessonCard lesson={item} key={index} />) }\r\n                </Slider>\r\n            </div>\r\n            <div className={styles.ready}>\r\n                <div className={styles.ready__wrap}>\r\n                    <h2 className={styles.ready__title}>ГОТОВ НАЧАТЬ?</h2>\r\n                    <h3 className={styles.ready__subtitle}>УЧИСЬ У ЛУЧШИХ В МИРЕ!</h3>\r\n                    <div className={styles.ready__icon}>\r\n                        <img src=\"/static/images/fifa20.svg\" alt=\"\"/>\r\n                    </div>\r\n                    <a href=\"#\" className={styles.ready__btn + ' common-btn'}>Get started</a>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AACA;AAcA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}
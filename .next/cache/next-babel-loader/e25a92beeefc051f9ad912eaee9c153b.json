{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport styles from './Slider.module.scss';\nimport { useRef, useState, useEffect } from 'react';\n\nvar Slider = function Slider(props) {\n  var sliderRef = useRef(null);\n  var slideRef = useRef(null);\n  var touches = [];\n  var slideWidth = null;\n  var slidesCount = null;\n\n  var _useState = useState(0),\n      slideIndex = _useState[0],\n      changeSlideIndex = _useState[1];\n\n  var _useState2 = useState({}),\n      slideStyle = _useState2[0],\n      changeSlideStyle = _useState2[1];\n\n  var handleBack = function handleBack() {\n    if (slideIndex !== 0) {\n      changeSlideStyle({\n        transform: 'translateX(' + (-slideWidth - 30) * (slideIndex - 1) + 'px)'\n      });\n      changeSlideIndex(slideIndex - 1);\n    }\n  };\n\n  var handleNext = function handleNext() {\n    if (slideIndex !== slidesCount - 1) {\n      changeSlideStyle({\n        transform: 'translateX(' + (-slideWidth - 30) * (slideIndex + 1) + 'px)'\n      });\n      changeSlideIndex(slideIndex + 1);\n    }\n  };\n\n  var handleTouch = function handleTouch(e) {\n    e.preventDefault();\n    touches.push(e.changedTouches[0]);\n  };\n\n  var handleTouchEnd = function handleTouchEnd() {\n    var touchDivision = touches[touches.length - 1].clientX - touches[0].clientX;\n\n    if (touchDivision > slideWidth / 3) {\n      handleBack();\n    } else if (touchDivision < -slideWidth / 3 && touchDivision < 0) {\n      handleNext();\n    }\n\n    touches = [];\n  };\n\n  useEffect(function () {\n    if (slideRef) {\n      slideWidth = slideRef.current.getBoundingClientRect().width;\n      slidesCount = Math.ceil((slideRef.current.scrollWidth - 30 * (props.itemsCount - 1)) / sliderRef.current.getBoundingClientRect().width);\n    }\n  });\n  return __jsx(\"div\", {\n    className: styles.slider,\n    ref: sliderRef\n  }, __jsx(\"div\", {\n    className: styles.slider__btnWrap\n  }, __jsx(\"button\", {\n    className: styles.slider__btn + ' ' + styles.slider__btnPrev,\n    onClick: handleBack\n  }, __jsx(\"img\", {\n    src: \"/static/images/arrow-left.svg\",\n    alt: \"\"\n  })), __jsx(\"button\", {\n    className: styles.slider__btn + ' ' + styles.slider__btnNext,\n    onClick: handleNext\n  }, __jsx(\"img\", {\n    src: \"/static/images/arrow-left.svg\",\n    alt: \"\"\n  }))), __jsx(\"div\", {\n    className: styles.slider__container,\n    ref: slideRef,\n    style: slideStyle,\n    onTouchMove: handleTouch,\n    onTouchEnd: handleTouchEnd\n  }, props.children));\n};\n\nexport default Slider;","map":null,"metadata":{},"sourceType":"module"}
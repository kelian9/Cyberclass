{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport styles from './Slider.module.scss';\nimport { useRef, useState, useEffect } from 'react';\n\nconst Slider = props => {\n  const sliderRef = useRef(null);\n  const slideRef = useRef(null);\n  let touches = [];\n  let slideWidth = null;\n  let slidesCount = null;\n  const {\n    0: slideIndex,\n    1: changeSlideIndex\n  } = useState(0);\n  const {\n    0: slideStyle,\n    1: changeSlideStyle\n  } = useState({});\n\n  const handleBack = () => {\n    if (slideIndex !== 0) {\n      changeSlideStyle({\n        transform: 'translateX(' + (-slideWidth - 30) * (slideIndex - 1) + 'px)'\n      });\n      changeSlideIndex(slideIndex - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (slideIndex !== slidesCount - 1) {\n      changeSlideStyle({\n        transform: 'translateX(' + (-slideWidth - 30) * (slideIndex + 1) + 'px)'\n      });\n      changeSlideIndex(slideIndex + 1);\n    }\n  };\n\n  const handleTouch = e => {\n    e.preventDefault();\n    touches.push(e.changedTouches[0]);\n  };\n\n  const handleTouchEnd = () => {\n    const touchDivision = touches[touches.length - 1].clientX - touches[0].clientX;\n\n    if (touchDivision > slideWidth / 3) {\n      handleBack();\n    } else if (touchDivision < -slideWidth / 3 && touchDivision < 0) {\n      handleNext();\n    }\n\n    touches = [];\n  };\n\n  useEffect(() => {\n    if (slideRef) {\n      slideWidth = slideRef.current.getBoundingClientRect().width;\n      slidesCount = Math.ceil((slideRef.current.scrollWidth - 30 * (props.itemsCount - 1)) / sliderRef.current.getBoundingClientRect().width);\n    }\n  });\n  return __jsx(\"div\", {\n    className: styles.slider,\n    ref: sliderRef\n  }, __jsx(\"div\", {\n    className: styles.slider__btnWrap\n  }, __jsx(\"button\", {\n    className: styles.slider__btn + ' ' + styles.slider__btnPrev,\n    onClick: handleBack\n  }, __jsx(\"img\", {\n    src: \"/static/images/arrow-left.svg\",\n    alt: \"\"\n  })), __jsx(\"button\", {\n    className: styles.slider__btn + ' ' + styles.slider__btnNext,\n    onClick: handleNext\n  }, __jsx(\"img\", {\n    src: \"/static/images/arrow-left.svg\",\n    alt: \"\"\n  }))), __jsx(\"div\", {\n    className: styles.slider__container,\n    ref: slideRef,\n    style: slideStyle,\n    onTouchMove: handleTouch,\n    onTouchEnd: handleTouchEnd\n  }, props.children));\n};\n\nexport default Slider;","map":null,"metadata":{},"sourceType":"module"}
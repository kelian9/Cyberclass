{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Projects\\\\cyberclass\\\\src\\\\components\\\\ui\\\\Slider\\\\Slider.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styles from './Slider.module.scss';\nimport { useRef, useState, useEffect } from 'react';\n\nconst Slider = props => {\n  const sliderRef = useRef(null);\n  const slideRef = useRef(null);\n  let touches = [];\n  let slideWidth = null;\n  let slidesCount = null;\n  const {\n    0: slideStyle,\n    1: changeSlideStyle\n  } = useState({});\n  const {\n    0: slideIndex,\n    1: changeSlideIndex\n  } = useState(0);\n\n  const handleBack = () => {\n    if (slideIndex !== 0) {\n      changeSlideStyle({\n        transform: 'translateX(' + -slideWidth * (slideIndex - 1) + 'px)'\n      });\n      changeSlideIndex(slideIndex - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (slideIndex !== slidesCount - 1) {\n      changeSlideStyle({\n        transform: 'translateX(' + -slideWidth * (slideIndex + 1) + 'px)'\n      });\n      changeSlideIndex(slideIndex + 1);\n    }\n  };\n\n  const handleTouch = e => {\n    touches.push(e.changedTouches[0]); // if(slideIndex !== 0) {\n    //     changeSlideStyle({\n    //         transform: 'translateX(' + -slideWidth * (slideIndex-1) + 'px)'\n    //     })\n    //     changeSlideIndex(slideIndex - 1)\n    // }\n  };\n\n  const handleTouchEnd = () => {\n    const touchDivision = touches[touches.length - 1].clientX - touches[0].clientX;\n    console.log(touches);\n    console.log(touchDivision);\n\n    if (touchDivision > slideWidth / 3) {\n      handleBack();\n    } else if (touchDivision < slideWidth / 3 && touchDivision < 0) {\n      handleNext();\n    }\n\n    touches = [];\n  };\n\n  useEffect(() => {\n    if (slideRef) {\n      slideWidth = slideRef.current.getBoundingClientRect().width;\n      slidesCount = Math.ceil(slideRef.current.scrollWidth / sliderRef.current.getBoundingClientRect().width);\n    }\n  });\n  return __jsx(\"div\", {\n    className: styles.slider,\n    ref: sliderRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.slider__container,\n    ref: slideRef,\n    style: slideStyle,\n    onTouchMove: handleTouch,\n    onTouchEnd: handleTouchEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, props.children), __jsx(\"div\", {\n    className: styles.slider__btnWrap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    className: styles.slider__btn + ' ' + styles.slider__btnPrev,\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: \"/static/images/arrow-left.svg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  })), __jsx(\"button\", {\n    className: styles.slider__btn + ' ' + styles.slider__btnNext,\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: \"/static/images/arrow-left.svg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Slider;","map":{"version":3,"sources":["C:/Users/User/Projects/cyberclass/src/components/ui/Slider/Slider.tsx"],"names":["styles","useRef","useState","useEffect","Slider","props","sliderRef","slideRef","touches","slideWidth","slidesCount","slideStyle","changeSlideStyle","slideIndex","changeSlideIndex","handleBack","transform","handleNext","handleTouch","e","push","changedTouches","handleTouchEnd","touchDivision","length","clientX","console","log","current","getBoundingClientRect","width","Math","ceil","scrollWidth","slider","slider__container","children","slider__btnWrap","slider__btn","slider__btnPrev","slider__btnNext"],"mappings":"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","sourcesContent":["import styles from './Slider.module.scss';\r\nimport { useRef, useState, useEffect } from 'react';\r\n\r\ninterface UIEvent {\r\n    targetTouches: { pageX: number; pageY: number; }[];\r\n    // etc...\r\n}\r\n\r\nconst Slider = (props) => {\r\n    const sliderRef = useRef(null);\r\n    const slideRef = useRef(null);\r\n\r\n    let touches = [];\r\n    let slideWidth = null;\r\n    let slidesCount = null;\r\n    const [slideStyle,changeSlideStyle] = useState({});\r\n    const [slideIndex, changeSlideIndex] = useState(0);\r\n    const handleBack = () => {\r\n        if(slideIndex !== 0) {\r\n            changeSlideStyle({\r\n                transform: 'translateX(' + -slideWidth * (slideIndex-1) + 'px)'\r\n            })\r\n            changeSlideIndex(slideIndex - 1)\r\n        }\r\n    }\r\n\r\n    const handleNext = () => {\r\n        if(slideIndex !== slidesCount - 1) {\r\n            changeSlideStyle({\r\n                transform: 'translateX(' + -slideWidth * (slideIndex + 1) + 'px)'\r\n            })\r\n            changeSlideIndex(slideIndex + 1)\r\n        }\r\n    }\r\n\r\n    const handleTouch = (e:any) => {\r\n        touches.push(e.changedTouches[0])\r\n        // if(slideIndex !== 0) {\r\n        //     changeSlideStyle({\r\n        //         transform: 'translateX(' + -slideWidth * (slideIndex-1) + 'px)'\r\n        //     })\r\n        //     changeSlideIndex(slideIndex - 1)\r\n        // }\r\n    }\r\n\r\n    const handleTouchEnd = () => {\r\n        const touchDivision = touches[touches.length - 1].clientX - touches[0].clientX;\r\n        console.log(touches)\r\n        console.log(touchDivision)\r\n        if(touchDivision > slideWidth/3) {\r\n            handleBack()\r\n        } else if (touchDivision < slideWidth/3 && touchDivision < 0) {\r\n            handleNext()\r\n        }\r\n        touches = [];\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(slideRef) {\r\n            slideWidth = slideRef.current.getBoundingClientRect().width;\r\n            slidesCount = Math.ceil(slideRef.current.scrollWidth / sliderRef.current.getBoundingClientRect().width);\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div className={styles.slider} ref={sliderRef}>\r\n            <div className={styles.slider__container} ref={slideRef} style={slideStyle} onTouchMove={handleTouch} onTouchEnd={handleTouchEnd}>\r\n                {/* <div className={styles.slider__innerContainer}> */}\r\n                    { props.children }\r\n                {/* </div> */}\r\n            </div>\r\n            <div className={styles.slider__btnWrap}>\r\n                <button className={styles.slider__btn + ' ' + styles.slider__btnPrev} onClick={handleBack}>\r\n                    <img src=\"/static/images/arrow-left.svg\" alt=\"\"/>\r\n                </button>\r\n                <button className={styles.slider__btn + ' ' + styles.slider__btnNext} onClick={handleNext}>\r\n                    <img src=\"/static/images/arrow-left.svg\" alt=\"\"/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Slider;"]},"metadata":{},"sourceType":"module"}
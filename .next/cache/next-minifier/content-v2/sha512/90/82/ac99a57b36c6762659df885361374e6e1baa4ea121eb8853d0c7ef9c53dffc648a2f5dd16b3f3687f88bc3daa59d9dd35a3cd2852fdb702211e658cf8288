{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{\"8tkU\":function(e,t,n){\"use strict\";t.a=function(){var e=JSON.parse(localStorage.getItem(\"token\"));return e&&e.token&&+new Date(e.expireDate)>+new Date(Date.now())}},DOQe:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/lesson/[materialID]\",function(){return n(\"F4QN\")}])},F4QN:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),o=n.n(a),i=n(\"bGpE\"),s=n.n(i),r=n(\"gsN4\"),c=n(\"nOHt\"),l=n(\"8tkU\"),u=n(\"oP1F\"),d=n(\"FYDE\"),m=n(\"vDqi\"),_=n.n(m),f=n(\"vTjs\"),v=function(e,t){return _.a.post(\"\".concat(f.a.apiEndPoint,\"/Rating/CreateRating\"),{materialId:e,ratingType:t},{headers:{Authorization:\"Bearer \".concat(JSON.parse(localStorage.getItem(\"token\")).token)}})},p=n(\"hXOc\"),g=o.a.createElement;t.default=function(e){var t,n=e.store,i=Object(c.useRouter)(),m=null===(t=n.getState().MaterialsReducer)||void 0===t?void 0:t.find((function(e){return e.id===+i.query.materialID})),_=n.getState().LessonsReducer,f=Object(a.useState)(null),b=f[0],y=f[1],N=function(e){Object(l.a)()&&!m.myLike&&!m.myDislike&&v(+i.query.materialID,e).then((function(t){n.dispatch(Object(p.a)({id:+i.query.materialID,ratingType:e})),console.log(t)})).catch((function(e){return console.log(e)}))},h=function(e){(Object(l.a)()?u.a.getLessons(e):u.a.getNotAuthorizeLessons(e)).then((function(e){n.dispatch(Object(d.a)(e.data)),y(e.data[0])})).catch((function(e){console.log(e)}))};return Object(a.useEffect)((function(){!m&&(Object(l.a)()?u.a.getMaterials():u.a.getNotAuthorizeMaterials()).then((function(e){n.dispatch(Object(p.b)(e.data)),h(e.data[0].id)})).catch((function(e){console.log(e)})),0==_.length&&h(+i.query.materialID),!b&&y(_[0])})),g(o.a.Fragment,null,g(\"div\",{className:s.a[\"selected-lesson\"]},(null===b||void 0===b?void 0:b.url)?g(\"iframe\",{src:null===b||void 0===b?void 0:b.url,allow:\"autoplay; fullscreen; encrypted-media; gyroscope; picture-in-picture\",frameBorder:\"0\"}):g(\"div\",{className:s.a[\"selected-lesson_preview\"]},g(\"img\",{src:null===b||void 0===b?void 0:b.preview,alt:\"\"}),g(\"img\",{src:\"/static/images/play-circle.svg\",alt:\"\",className:s.a[\"play-icon\"]}),g(\"span\",{className:s.a.duration},null===b||void 0===b?void 0:b.duration,\":00\"),g(\"span\",{className:s.a[\"duration-line\"]})),g(\"div\",{className:s.a[\"selected-lesson_info\"]},g(\"div\",{className:s.a[\"heading-row\"]},g(\"img\",{src:\"/static/images/fifa20.svg\",alt:\"\"}),g(\"a\",{className:\"transparent-btn\"},\"Get access to all cources\")),g(\"h1\",null,\"0\",null===b||void 0===b?void 0:b.number,\": \",null===b||void 0===b?void 0:b.name),g(\"h2\",null,\"\\u043e\\u0442 mozz \\u0438 klenoff\"),g(\"p\",{className:s.a.rating},\"Rate this\\xa0\\xa0\\xa0\",null===m||void 0===m?void 0:m.likeCount,\" \",g(\"img\",{src:\"/static/images/like.svg\",alt:\"\",onClick:function(){return N(0)},className:(null===m||void 0===m?void 0:m.myLike)?s.a.rated:null}),\"\\xa0\\xa0\",null===m||void 0===m?void 0:m.dislikeCount,\" \",g(\"img\",{src:\"/static/images/like.svg\",alt:\"\",onClick:function(){return N(1)},className:(null===m||void 0===m?void 0:m.myDislike)?s.a.rated:null})),g(\"p\",null,null===b||void 0===b?void 0:b.description),g(\"button\",{className:\"common-btn\"},\"Open workbook\"))),g(\"div\",{className:\"content-container\"},g(\"div\",{className:s.a.tab},g(\"div\",{className:s.a.tab_btns},g(\"button\",null,\"Free lessons\"),g(\"button\",null,\"Buy lessons\")),g(\"div\",{className:s.a.tab_view},null===_||void 0===_?void 0:_.map((function(e,t){return g(r.a,{lesson:e,selectLesson:function(e){return y(_.find((function(t){return t.id===e})))},key:t})}))),(null===_||void 0===_?void 0:_.length)>6?g(\"button\",{className:\"common-btn\"},\"Show more\"):null)))}},FYDE:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var a=n(\"v6/v\"),o=function(e){return{type:a.a.SET_LESSONS,lessons:e}}},KQm4:function(e,t,n){\"use strict\";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}n.d(t,\"a\",(function(){return o}))},bGpE:function(e,t,n){e.exports={tab_view:\"Lesson_tab_view__blLQx\",\"selected-lesson\":\"Lesson_selected-lesson__3AIWs\",\"heading-row\":\"Lesson_heading-row__2XkZ6\",\"selected-lesson_preview\":\"Lesson_selected-lesson_preview__3uw-Y\",\"play-icon\":\"Lesson_play-icon__BghQc\",duration:\"Lesson_duration__1D9Rz\",\"duration-line\":\"Lesson_duration-line__hrAdr\",\"selected-lesson_info\":\"Lesson_selected-lesson_info__2CfXl\",rating:\"Lesson_rating__RKnzn\",rated:\"Lesson_rated__1YgGk\",tab:\"Lesson_tab__3_3xw\",tab_btns:\"Lesson_tab_btns__3P4Dk\"}},gsN4:function(e,t,n){\"use strict\";var a=n(\"q1tI\"),o=n.n(a),i=n(\"x68t\"),s=n.n(i),r=o.a.createElement;t.a=function(e){var t=e.lesson,n=e.selectLesson;Object(a.useRef)();return r(\"div\",{className:s.a.lessonCard,onClick:function(){return n?n(t.id):null}},r(\"img\",{src:\"/static/images/play-circle.svg\",alt:\"\",className:s.a[\"play-icon\"]}),t.preview?r(\"img\",{src:t.preview,alt:\"\"}):r(\"div\",{className:s.a.emptyPath}),r(\"span\",{className:s.a.duration},t.duration,\":00\"),r(\"span\",{className:s.a[\"duration-line\"]}),r(\"h3\",null,t.name),r(\"p\",null,t.description))}},hXOc:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return s}));var a=n(\"KQm4\"),o=n(\"v6/v\"),i=function(e){return{type:o.a.SET_MATERIALS,materials:Object(a.a)(e)}},s=function(e){return{type:o.a.RATE_MATERIAL,id:e.id,ratingtype:e.ratingType}}},oP1F:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var a=n(\"vTjs\"),o=n(\"vDqi\"),i=n.n(o),s={getLessons:function(e){return i.a.get(\"\".concat(a.a.apiEndPoint,\"/Lesson/GetLessons\"),{params:{matId:e},headers:{Authorization:\"Bearer \".concat(JSON.parse(localStorage.getItem(\"token\")).token)}})},getNotAuthorizeLessons:function(e){return i.a.get(\"\".concat(a.a.apiEndPoint,\"/NotAutorize/GetLessonsNotAutarize\"),{params:{matId:e}})},getMaterials:function(){return i.a.get(\"\".concat(a.a.apiEndPoint,\"/Lesson/GetMaterials\"),{headers:{Authorization:\"Bearer \".concat(JSON.parse(localStorage.getItem(\"token\")).token)}})},getNotAuthorizeMaterials:function(){return i.a.get(\"\".concat(a.a.apiEndPoint,\"/NotAutorize/GetMaterialsNotAutorize\"))}}},\"v6/v\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var a={SET_LESSONS:\"SET_LESSONS\",SET_MATERIALS:\"SET_MATERIALS\",SET_USER:\"SET_USER\",RATE_MATERIAL:\"RATE_MATERIAL\"}},x68t:function(e,t,n){e.exports={lessonCard:\"LessonCard_lessonCard__1cnPZ\",emptyPath:\"LessonCard_emptyPath__3GDvk\",\"play-icon\":\"LessonCard_play-icon__1nBNt\",duration:\"LessonCard_duration__27-wx\",\"duration-line\":\"LessonCard_duration-line__15ALY\"}}},[[\"DOQe\",0,2,1,3]]]);","extractedComments":[]}
{"version":3,"file":"static/webpack/static\\development\\pages\\registration.js.bcaef0ff369d76de29fa.hot-update.js","sources":["webpack:///./src/pages/registration/index.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport useFormState from \"../../common/customHooks/useFormState\";\r\nimport { FormEvent, useState } from \"react\";\r\nimport { AuthAPI } from \"../../api/auth\";\r\nimport { AxiosResponse, AxiosError } from \"axios\";\r\nimport { RegisterResponse } from \"../../api/models/response/auth.response\";\r\nimport { useRouter } from \"next/router\";\r\nimport InputMask from \"react-input-mask\";\r\n\r\n\r\nconst Registration = () => {\r\n\r\n    const router = useRouter();\r\n\r\n    const phone = useFormState('');\r\n    const password = useFormState('');\r\n\r\n    const [error,toggleError] = useState(false);\r\n\r\n    const sendCode = () => {\r\n        AuthAPI.sendActivationCode(phone.value)\r\n            .then((response:AxiosResponse) => {\r\n                router.push(`/registration/code/${phone.value}`)\r\n            })\r\n            .catch((err:AxiosError) => console.log(err))\r\n    }\r\n\r\n    const register = (e:FormEvent) => {\r\n        e.preventDefault();\r\n        AuthAPI.register(phone.value, password.value)\r\n            .then((response:AxiosResponse<RegisterResponse>) => {\r\n                sendCode();\r\n            })\r\n            .catch((err:AxiosError) => {\r\n                toggleError(true)\r\n                setTimeout(() => {\r\n                    toggleError(false)\r\n                }, 3000)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth-component\">\r\n            <form className=\"auth-form\" onSubmit={register}>\r\n                <h1>Sign Up</h1>\r\n                <InputMask mask=\"+7(999)999-99-99\" {...phone} className=\"common-input\" placeholder=\"+7(___)___-__-__\" />\r\n                <input type=\"text\" className=\"common-input\" {...password} placeholder=\"Password\" />\r\n                <button className=\"common-btn\">Register</button>\r\n                { error ? <span className=\"error\">Incorrect code</span> : null }\r\n                <Link href=\"/authorization\">\r\n                    <a className='authorize-link'>or sign in</a>\r\n                </Link>\r\n            </form>\r\n            <p className=\"terms\">By registering for this website, you accept our <a href=\"\">Terms of use</a> and out <a href=\"\">Privacy Policy</a></p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Registration;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AANA;AAAA;AAAA;AACA;AAQA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}
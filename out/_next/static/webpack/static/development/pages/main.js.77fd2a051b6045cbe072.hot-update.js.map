{"version":3,"file":"static/webpack/static\\development\\pages\\main.js.77fd2a051b6045cbe072.hot-update.js","sources":["webpack:///./src/components/ui/Slider/Slider.tsx"],"sourcesContent":["import styles from './Slider.module.scss';\r\nimport { useRef, useState, useEffect } from 'react';\r\n\r\nconst Slider = (props) => {\r\n    const sliderRef = useRef(null);\r\n    const slideRef = useRef(null);\r\n\r\n    let touches = [];\r\n    let slideWidth = null;\r\n    let slidesCount = null;\r\n    const [slideIndex, changeSlideIndex] = useState(0);\r\n    const [slideStyle,changeSlideStyle] = useState({});\r\n\r\n    const handleBack = () => {\r\n        if(slideIndex !== 0) {\r\n            changeSlideStyle({\r\n                transform: 'translateX(' + (-slideWidth - 30) * (slideIndex-1) + 'px)'\r\n            })\r\n            changeSlideIndex(slideIndex - 1)\r\n        }\r\n    }\r\n\r\n    const handleNext = () => {\r\n        if(slideIndex !== slidesCount - 2) {\r\n            changeSlideStyle({\r\n                transform: 'translateX(' + (-slideWidth - 30) * (slideIndex + 1) + 'px)'\r\n            })\r\n            changeSlideIndex(slideIndex + 1)\r\n        }\r\n    }\r\n\r\n    const handleTouch = (e:any) => {\r\n        e.preventDefault()\r\n        touches.push(e.changedTouches[0])\r\n    }\r\n\r\n    const handleTouchEnd = () => {\r\n        const touchDivision = touches[touches.length - 1].clientX - touches[0].clientX;\r\n        console.log(touches)\r\n        console.log(touchDivision)\r\n        if(touchDivision > slideWidth/3) {\r\n            handleBack()\r\n        } else if (touchDivision < -slideWidth/3 && touchDivision < 0) {\r\n            handleNext()\r\n        }\r\n        touches = [];\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(slideRef) {\r\n            slideWidth = slideRef.current.getBoundingClientRect().width;\r\n            slidesCount = Math.ceil(slideRef.current.scrollWidth / sliderRef.current.getBoundingClientRect().width);\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div className={styles.slider} ref={sliderRef}>\r\n            <div className={styles.slider__btnWrap}>\r\n                <button className={styles.slider__btn + ' ' + styles.slider__btnPrev} onClick={handleBack}>\r\n                    <img src=\"/static/images/arrow-left.svg\" alt=\"\"/>\r\n                </button>\r\n                <button className={styles.slider__btn + ' ' + styles.slider__btnNext} onClick={handleNext}>\r\n                    <img src=\"/static/images/arrow-left.svg\" alt=\"\"/>\r\n                </button>\r\n            </div>\r\n            <div className={styles.slider__container} ref={slideRef} style={slideStyle} onTouchMove={handleTouch} onTouchEnd={handleTouchEnd}>\r\n                {/* <div className={styles.slider__innerContainer}> */}\r\n                    { props.children }\r\n                {/* </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Slider;"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}
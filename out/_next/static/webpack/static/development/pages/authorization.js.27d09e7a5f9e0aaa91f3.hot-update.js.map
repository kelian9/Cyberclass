{"version":3,"file":"static/webpack/static\\development\\pages\\authorization.js.27d09e7a5f9e0aaa91f3.hot-update.js","sources":["webpack:///./src/pages/authorization/index.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport styles from './Authorization.module.scss';\r\nimport useFormState from \"../../common/customHooks/useFormState\";\r\nimport { AuthAPI } from \"../../api/auth\";\r\nimport { AxiosResponse, AxiosError } from \"axios\";\r\nimport { AuthResponse } from \"../../api/models/response/auth.response\";\r\nimport { useRouter } from \"next/router\";\r\nimport { FormEvent } from \"react\";\r\nimport { setUser } from \"../../store/actions/user-actions\";\r\nimport InputMask from \"react-input-mask\";\r\n\r\n\r\nconst Authorization = ({store}) => {\r\n\r\n    const login = useFormState('');\r\n    const password = useFormState('');\r\n\r\n    const router = useRouter();\r\n\r\n    const authorize = (e:FormEvent) => {\r\n        e.preventDefault();\r\n        AuthAPI.auth(login.value, password.value)\r\n            .then((response:AxiosResponse<AuthResponse>) => {\r\n                store.dispatch(setUser(response.data.user))\r\n                localStorage.setItem('token', JSON.stringify(response.data.token));\r\n                router.push('/main');\r\n                console.log('done')\r\n            })\r\n            .catch((err:AxiosError) => console.log(err))\r\n    }\r\n    \r\n    return (\r\n        <div className=\"auth-component\">\r\n            <form className=\"auth-form\" onSubmit={authorize}>\r\n                <h1>Sign In</h1>\r\n                <InputMask mask=\"+7(999)999-99-99\" {...login} className=\"common-input\" placeholder=\"+7(___)___-__-__\" />\r\n                <input type=\"text\" className=\"common-input\" {...password} placeholder=\"Password\" />\r\n                <button className=\"common-btn\">Log In</button>\r\n                <Link href=\"/registration\">\r\n                    <a className='create-account-link'>or create new account</a>\r\n                </Link>\r\n            </form>\r\n            {/* <p className=\"terms\">By registering for this website, you accept our <a href=\"\">Terms of use</a> and out <a href=\"\">Privacy Policy</a></p> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Authorization;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;;A","sourceRoot":""}